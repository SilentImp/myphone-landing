var LandgingController,
  __bind = function(fn, me) {
    return function() {
      return fn.apply(me, arguments);
    };
  };

LandgingController = (function() {
  function LandgingController() {
    this.trysubmit = __bind(this.trysubmit, this);
    this.formSend = __bind(this.formSend, this);
    this.submit = __bind(this.submit, this);
    this.selectLanguage = __bind(this.selectLanguage, this);
    this.timerUpdate = __bind(this.timerUpdate, this);
    this.codeChange = __bind(this.codeChange, this);
    this.codeSelectChange = __bind(this.codeSelectChange, this);
    this.closeRules = __bind(this.closeRules, this);
    this.showRules = __bind(this.showRules, this);
    this.itype = 'click';
    this.html = $('html');
    if (this.html.hasClass('touch')) {
      this.itype = 'touchstart';
    }
    this.form = $('.register-form');
    this.timer = $('.time');
    this.ti = 0;
    window.setInterval(this.timerUpdate, 1000);
    this.timerUpdate();
    this.form.find('.code-widget input').on('change', this.codeChange);
    this.form.find('select').on('change', this.codeSelectChange);
    this.form.find('input.tel').mask("(999) 999-99-99");
    this.form.find('input.code').mask("+9?999");
    $('.rules .close').on(this.itype, this.closeRules);
    $('.show-rules').on(this.itype, this.showRules);
    this.message = this.form.prev();
    this.lang = $('nav.language');
    this.lang.on(this.itype, this.selectLanguage);
    this.lang.find('a').on(this.itype, this.selectLanguage);
    this.form.find('button').on(this.itype, this.trysubmit);
    this.form.on('submit', this.submit);
  }

  LandgingController.prototype.showRules = function(event) {
    event.preventDefault();
    this.html.addClass('rules');
    $(event.currentTarget).closest('.page').find('.rules').show();
    return window.scrollTo(0, 0);
  };

  LandgingController.prototype.closeRules = function(event) {
    this.html.removeClass('rules');
    $(event.currentTarget.parentNode).hide();
    return window.scrollTo(0, 0);
  };

  LandgingController.prototype.codeSelectChange = function(event) {
    var current, element, value, wrapper;
    element = $(event.currentTarget);
    value = element.val();
    wrapper = element.closest('.code-widget');
    current = wrapper.find('.current .value');
    current.text(value);
    wrapper.find('input[type="radio"][name="code"][value="' + value + '"]').trigger('click');
    return console.log(wrapper.find('input[type="radio"][name="code"][value="' + value + '"]'));
  };

  LandgingController.prototype.codeChange = function(event) {
    var current, element, wrapper;
    element = $(event.currentTarget);
    wrapper = element.closest('.code-widget');
    current = wrapper.find('.current .value');
    current.text(element.val());
    wrapper.addClass('changed');
    return window.setTimeout(function() {
      return wrapper.removeClass('changed');
    }, 500);
  };

  LandgingController.prototype.timerUpdate = function() {
    var sepator;
    if ((this.ti % 2) === 0) {
      sepator = ":";
    } else {
      sepator = "Â ";
    }
    this.ti++;
    return this.timer.text(moment().format("HH" + sepator + "mm"));
  };

  LandgingController.prototype.selectLanguage = function(event) {
    event.preventDefault();
    event.stopPropagation();
    this.lang.find('a').toggleClass('selected');
    return this.html.attr('lang', this.lang.find('.selected').attr('data-lang'));
  };

  LandgingController.prototype.submit = function(event) {
    var form;
    event.preventDefault();
    form = $(event.currentTarget);
    console.log(form.serialize());
    return $.post(form.attr('action'), form.serialize()).complete(this.formSend);
  };

  LandgingController.prototype.formSend = function(responce) {
    this.form.hide();
    return this.message.show();
  };

  LandgingController.prototype.trysubmit = function(event) {
    var button, form;
    button = $(event.currentTarget);
    form = button.closest('form.register-form');
    return form.addClass('validation-start');
  };

  return LandgingController;

})();

$(document).ready(function() {
  return new LandgingController();
});

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkxhbmRnaW5nQ29udHJvbGxlci5jb2ZmZWUiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsSUFBQSxrQkFBQTtFQUFBLGtGQUFBOztBQUFBO0FBQ2UsRUFBQSw0QkFBQSxHQUFBO0FBRVgsaURBQUEsQ0FBQTtBQUFBLCtDQUFBLENBQUE7QUFBQSwyQ0FBQSxDQUFBO0FBQUEsMkRBQUEsQ0FBQTtBQUFBLHFEQUFBLENBQUE7QUFBQSxtREFBQSxDQUFBO0FBQUEsK0RBQUEsQ0FBQTtBQUFBLG1EQUFBLENBQUE7QUFBQSxpREFBQSxDQUFBO0FBQUEsSUFBQSxJQUFDLENBQUEsS0FBRCxHQUFTLE9BQVQsQ0FBQTtBQUFBLElBQ0EsSUFBQyxDQUFBLElBQUQsR0FBUSxDQUFBLENBQUUsTUFBRixDQURSLENBQUE7QUFFQSxJQUFBLElBQUcsSUFBQyxDQUFBLElBQUksQ0FBQyxRQUFOLENBQWUsT0FBZixDQUFIO0FBQ0UsTUFBQSxJQUFDLENBQUEsS0FBRCxHQUFTLFlBQVQsQ0FERjtLQUZBO0FBQUEsSUFLQSxJQUFDLENBQUEsSUFBRCxHQUFRLENBQUEsQ0FBRSxnQkFBRixDQUxSLENBQUE7QUFBQSxJQU9BLElBQUMsQ0FBQSxLQUFELEdBQVMsQ0FBQSxDQUFFLE9BQUYsQ0FQVCxDQUFBO0FBQUEsSUFRQSxJQUFDLENBQUEsRUFBRCxHQUFNLENBUk4sQ0FBQTtBQUFBLElBU0EsTUFBTSxDQUFDLFdBQVAsQ0FBbUIsSUFBQyxDQUFBLFdBQXBCLEVBQWlDLElBQWpDLENBVEEsQ0FBQTtBQUFBLElBVUEsSUFBQyxDQUFBLFdBQUQsQ0FBQSxDQVZBLENBQUE7QUFBQSxJQVlBLElBQUMsQ0FBQSxJQUFJLENBQUMsSUFBTixDQUFXLG9CQUFYLENBQWdDLENBQUMsRUFBakMsQ0FBb0MsUUFBcEMsRUFBOEMsSUFBQyxDQUFBLFVBQS9DLENBWkEsQ0FBQTtBQUFBLElBYUEsSUFBQyxDQUFBLElBQUksQ0FBQyxJQUFOLENBQVcsUUFBWCxDQUFvQixDQUFDLEVBQXJCLENBQXdCLFFBQXhCLEVBQWtDLElBQUMsQ0FBQSxnQkFBbkMsQ0FiQSxDQUFBO0FBQUEsSUFrQkEsSUFBQyxDQUFBLElBQUksQ0FBQyxJQUFOLENBQVcsV0FBWCxDQUF1QixDQUFDLElBQXhCLENBQTZCLGlCQUE3QixDQWxCQSxDQUFBO0FBQUEsSUFtQkEsSUFBQyxDQUFBLElBQUksQ0FBQyxJQUFOLENBQVcsWUFBWCxDQUF3QixDQUFDLElBQXpCLENBQThCLFFBQTlCLENBbkJBLENBQUE7QUFBQSxJQXFCQSxDQUFBLENBQUUsZUFBRixDQUFrQixDQUFDLEVBQW5CLENBQXNCLElBQUMsQ0FBQSxLQUF2QixFQUE4QixJQUFDLENBQUEsVUFBL0IsQ0FyQkEsQ0FBQTtBQUFBLElBc0JBLENBQUEsQ0FBRSxhQUFGLENBQWdCLENBQUMsRUFBakIsQ0FBb0IsSUFBQyxDQUFBLEtBQXJCLEVBQTRCLElBQUMsQ0FBQSxTQUE3QixDQXRCQSxDQUFBO0FBQUEsSUF5QkEsSUFBQyxDQUFBLE9BQUQsR0FBVyxJQUFJLENBQUMsSUFBSSxDQUFDLElBQVYsQ0FBQSxDQXpCWCxDQUFBO0FBQUEsSUEyQkEsSUFBQyxDQUFBLElBQUQsR0FBUSxDQUFBLENBQUUsY0FBRixDQTNCUixDQUFBO0FBQUEsSUE0QkEsSUFBQyxDQUFBLElBQUksQ0FBQyxFQUFOLENBQVMsSUFBSSxDQUFDLEtBQWQsRUFBcUIsSUFBQyxDQUFBLGNBQXRCLENBNUJBLENBQUE7QUFBQSxJQTZCQSxJQUFDLENBQUEsSUFBSSxDQUFDLElBQU4sQ0FBVyxHQUFYLENBQWUsQ0FBQyxFQUFoQixDQUFtQixJQUFJLENBQUMsS0FBeEIsRUFBK0IsSUFBQyxDQUFBLGNBQWhDLENBN0JBLENBQUE7QUFBQSxJQStCQSxJQUFDLENBQUEsSUFBSSxDQUFDLElBQU4sQ0FBVyxRQUFYLENBQW9CLENBQUMsRUFBckIsQ0FBd0IsSUFBSSxDQUFDLEtBQTdCLEVBQW9DLElBQUMsQ0FBQSxTQUFyQyxDQS9CQSxDQUFBO0FBQUEsSUFnQ0EsSUFBQyxDQUFBLElBQUksQ0FBQyxFQUFOLENBQVMsUUFBVCxFQUFtQixJQUFDLENBQUEsTUFBcEIsQ0FoQ0EsQ0FGVztFQUFBLENBQWI7O0FBQUEsK0JBb0NBLFNBQUEsR0FBVyxTQUFDLEtBQUQsR0FBQTtBQUNULElBQUEsS0FBSyxDQUFDLGNBQU4sQ0FBQSxDQUFBLENBQUE7QUFBQSxJQUNBLElBQUMsQ0FBQSxJQUFJLENBQUMsUUFBTixDQUFlLE9BQWYsQ0FEQSxDQUFBO0FBQUEsSUFFQSxDQUFBLENBQUUsS0FBSyxDQUFDLGFBQVIsQ0FBc0IsQ0FBQyxPQUF2QixDQUErQixPQUEvQixDQUF1QyxDQUFDLElBQXhDLENBQTZDLFFBQTdDLENBQXNELENBQUMsSUFBdkQsQ0FBQSxDQUZBLENBQUE7V0FHQSxNQUFNLENBQUMsUUFBUCxDQUFnQixDQUFoQixFQUFtQixDQUFuQixFQUpTO0VBQUEsQ0FwQ1gsQ0FBQTs7QUFBQSwrQkEwQ0EsVUFBQSxHQUFZLFNBQUMsS0FBRCxHQUFBO0FBQ1YsSUFBQSxJQUFDLENBQUEsSUFBSSxDQUFDLFdBQU4sQ0FBa0IsT0FBbEIsQ0FBQSxDQUFBO0FBQUEsSUFDQSxDQUFBLENBQUUsS0FBSyxDQUFDLGFBQWEsQ0FBQyxVQUF0QixDQUFpQyxDQUFDLElBQWxDLENBQUEsQ0FEQSxDQUFBO1dBRUEsTUFBTSxDQUFDLFFBQVAsQ0FBZ0IsQ0FBaEIsRUFBbUIsQ0FBbkIsRUFIVTtFQUFBLENBMUNaLENBQUE7O0FBQUEsK0JBK0NBLGdCQUFBLEdBQWtCLFNBQUMsS0FBRCxHQUFBO0FBQ2hCLFFBQUEsZ0NBQUE7QUFBQSxJQUFBLE9BQUEsR0FBVSxDQUFBLENBQUUsS0FBSyxDQUFDLGFBQVIsQ0FBVixDQUFBO0FBQUEsSUFDQSxLQUFBLEdBQVEsT0FBTyxDQUFDLEdBQVIsQ0FBQSxDQURSLENBQUE7QUFBQSxJQUVBLE9BQUEsR0FBVSxPQUFPLENBQUMsT0FBUixDQUFnQixjQUFoQixDQUZWLENBQUE7QUFBQSxJQUdBLE9BQUEsR0FBVSxPQUFPLENBQUMsSUFBUixDQUFhLGlCQUFiLENBSFYsQ0FBQTtBQUFBLElBSUEsT0FBTyxDQUFDLElBQVIsQ0FBYSxLQUFiLENBSkEsQ0FBQTtBQUFBLElBS0EsT0FBTyxDQUFDLElBQVIsQ0FBYSwwQ0FBQSxHQUEyQyxLQUEzQyxHQUFpRCxJQUE5RCxDQUFtRSxDQUFDLE9BQXBFLENBQTRFLE9BQTVFLENBTEEsQ0FBQTtXQU1BLE9BQU8sQ0FBQyxHQUFSLENBQVksT0FBTyxDQUFDLElBQVIsQ0FBYSwwQ0FBQSxHQUEyQyxLQUEzQyxHQUFpRCxJQUE5RCxDQUFaLEVBUGdCO0VBQUEsQ0EvQ2xCLENBQUE7O0FBQUEsK0JBd0RBLFVBQUEsR0FBWSxTQUFDLEtBQUQsR0FBQTtBQUNWLFFBQUEseUJBQUE7QUFBQSxJQUFBLE9BQUEsR0FBVSxDQUFBLENBQUUsS0FBSyxDQUFDLGFBQVIsQ0FBVixDQUFBO0FBQUEsSUFDQSxPQUFBLEdBQVUsT0FBTyxDQUFDLE9BQVIsQ0FBZ0IsY0FBaEIsQ0FEVixDQUFBO0FBQUEsSUFFQSxPQUFBLEdBQVUsT0FBTyxDQUFDLElBQVIsQ0FBYSxpQkFBYixDQUZWLENBQUE7QUFBQSxJQUdBLE9BQU8sQ0FBQyxJQUFSLENBQWEsT0FBTyxDQUFDLEdBQVIsQ0FBQSxDQUFiLENBSEEsQ0FBQTtBQUFBLElBSUEsT0FBTyxDQUFDLFFBQVIsQ0FBaUIsU0FBakIsQ0FKQSxDQUFBO1dBS0EsTUFBTSxDQUFDLFVBQVAsQ0FBa0IsU0FBQSxHQUFBO2FBQ2hCLE9BQU8sQ0FBQyxXQUFSLENBQW9CLFNBQXBCLEVBRGdCO0lBQUEsQ0FBbEIsRUFFRSxHQUZGLEVBTlU7RUFBQSxDQXhEWixDQUFBOztBQUFBLCtCQW1FQSxXQUFBLEdBQWEsU0FBQSxHQUFBO0FBQ1gsUUFBQSxPQUFBO0FBQUEsSUFBQSxJQUFHLENBQUMsSUFBQyxDQUFBLEVBQUQsR0FBSSxDQUFMLENBQUEsS0FBUyxDQUFaO0FBQ0UsTUFBQSxPQUFBLEdBQVUsR0FBVixDQURGO0tBQUEsTUFBQTtBQUdFLE1BQUEsT0FBQSxHQUFVLEdBQVYsQ0FIRjtLQUFBO0FBQUEsSUFJQSxJQUFDLENBQUEsRUFBRCxFQUpBLENBQUE7V0FLQSxJQUFDLENBQUEsS0FBSyxDQUFDLElBQVAsQ0FBWSxNQUFBLENBQUEsQ0FBUSxDQUFDLE1BQVQsQ0FBZ0IsSUFBQSxHQUFLLE9BQUwsR0FBYSxJQUE3QixDQUFaLEVBTlc7RUFBQSxDQW5FYixDQUFBOztBQUFBLCtCQTJFQSxjQUFBLEdBQWdCLFNBQUMsS0FBRCxHQUFBO0FBQ2QsSUFBQSxLQUFLLENBQUMsY0FBTixDQUFBLENBQUEsQ0FBQTtBQUFBLElBQ0EsS0FBSyxDQUFDLGVBQU4sQ0FBQSxDQURBLENBQUE7QUFBQSxJQUVBLElBQUMsQ0FBQSxJQUFJLENBQUMsSUFBTixDQUFXLEdBQVgsQ0FBZSxDQUFDLFdBQWhCLENBQTRCLFVBQTVCLENBRkEsQ0FBQTtXQUdBLElBQUMsQ0FBQSxJQUFJLENBQUMsSUFBTixDQUFXLE1BQVgsRUFBbUIsSUFBQyxDQUFBLElBQUksQ0FBQyxJQUFOLENBQVcsV0FBWCxDQUF1QixDQUFDLElBQXhCLENBQTZCLFdBQTdCLENBQW5CLEVBSmM7RUFBQSxDQTNFaEIsQ0FBQTs7QUFBQSwrQkFpRkEsTUFBQSxHQUFRLFNBQUMsS0FBRCxHQUFBO0FBQ04sUUFBQSxJQUFBO0FBQUEsSUFBQSxLQUFLLENBQUMsY0FBTixDQUFBLENBQUEsQ0FBQTtBQUFBLElBQ0EsSUFBQSxHQUFPLENBQUEsQ0FBRSxLQUFLLENBQUMsYUFBUixDQURQLENBQUE7QUFBQSxJQUVBLE9BQU8sQ0FBQyxHQUFSLENBQVksSUFBSSxDQUFDLFNBQUwsQ0FBQSxDQUFaLENBRkEsQ0FBQTtXQUdBLENBQUMsQ0FBQyxJQUFGLENBQU8sSUFBSSxDQUFDLElBQUwsQ0FBVSxRQUFWLENBQVAsRUFBNEIsSUFBSSxDQUFDLFNBQUwsQ0FBQSxDQUE1QixDQUE2QyxDQUFDLFFBQTlDLENBQXVELElBQUMsQ0FBQSxRQUF4RCxFQUpNO0VBQUEsQ0FqRlIsQ0FBQTs7QUFBQSwrQkF1RkEsUUFBQSxHQUFVLFNBQUMsUUFBRCxHQUFBO0FBQ1IsSUFBQSxJQUFDLENBQUEsSUFBSSxDQUFDLElBQU4sQ0FBQSxDQUFBLENBQUE7V0FDQSxJQUFDLENBQUEsT0FBTyxDQUFDLElBQVQsQ0FBQSxFQUZRO0VBQUEsQ0F2RlYsQ0FBQTs7QUFBQSwrQkEyRkEsU0FBQSxHQUFXLFNBQUMsS0FBRCxHQUFBO0FBQ1QsUUFBQSxZQUFBO0FBQUEsSUFBQSxNQUFBLEdBQVMsQ0FBQSxDQUFFLEtBQUssQ0FBQyxhQUFSLENBQVQsQ0FBQTtBQUFBLElBQ0EsSUFBQSxHQUFPLE1BQU0sQ0FBQyxPQUFQLENBQWUsb0JBQWYsQ0FEUCxDQUFBO1dBRUEsSUFBSSxDQUFDLFFBQUwsQ0FBYyxrQkFBZCxFQUhTO0VBQUEsQ0EzRlgsQ0FBQTs7NEJBQUE7O0lBREYsQ0FBQTs7QUFBQSxDQWtHQSxDQUFFLFFBQUYsQ0FBVyxDQUFDLEtBQVosQ0FBa0IsU0FBQSxHQUFBO1NBQ1osSUFBQSxrQkFBQSxDQUFBLEVBRFk7QUFBQSxDQUFsQixDQWxHQSxDQUFBIiwiZmlsZSI6IkxhbmRnaW5nQ29udHJvbGxlci5qcyIsInNvdXJjZVJvb3QiOiIvc291cmNlLyIsInNvdXJjZXNDb250ZW50IjpbImNsYXNzIExhbmRnaW5nQ29udHJvbGxlclxuICBjb25zdHJ1Y3RvcjogLT5cblxuICAgIEBpdHlwZSA9ICdjbGljayc7XG4gICAgQGh0bWwgPSAkICdodG1sJ1xuICAgIGlmIEBodG1sLmhhc0NsYXNzKCd0b3VjaCcpXG4gICAgICBAaXR5cGUgPSAndG91Y2hzdGFydCdcblxuICAgIEBmb3JtID0gJCgnLnJlZ2lzdGVyLWZvcm0nKVxuICAgIFxuICAgIEB0aW1lciA9ICQoJy50aW1lJylcbiAgICBAdGkgPSAwXG4gICAgd2luZG93LnNldEludGVydmFsIEB0aW1lclVwZGF0ZSwgMTAwMFxuICAgIEB0aW1lclVwZGF0ZSgpXG5cbiAgICBAZm9ybS5maW5kKCcuY29kZS13aWRnZXQgaW5wdXQnKS5vbiAnY2hhbmdlJywgQGNvZGVDaGFuZ2VcbiAgICBAZm9ybS5maW5kKCdzZWxlY3QnKS5vbiAnY2hhbmdlJywgQGNvZGVTZWxlY3RDaGFuZ2VcblxuICAgICMgJC5tYXNrLmRlZmluaXRpb25zWydjJ10gPSBcIlteXFxkXFxzLiw6IUBeJSYqXys9wrHCpyMkXigpXFxcIlxcJ11cIlxuICAgICMgQGZvcm0uZmluZCgnaW5wdXQud29yZCcpLm1hc2sgXCJjYz9jY2NjY2NjY2NjY2NjY2NjY2NjY1wiXG5cbiAgICBAZm9ybS5maW5kKCdpbnB1dC50ZWwnKS5tYXNrIFwiKDk5OSkgOTk5LTk5LTk5XCJcbiAgICBAZm9ybS5maW5kKCdpbnB1dC5jb2RlJykubWFzayBcIis5Pzk5OVwiXG5cbiAgICAkKCcucnVsZXMgLmNsb3NlJykub24gQGl0eXBlLCBAY2xvc2VSdWxlc1xuICAgICQoJy5zaG93LXJ1bGVzJykub24gQGl0eXBlLCBAc2hvd1J1bGVzXG4gICAgXG4gICAgXG4gICAgQG1lc3NhZ2UgPSB0aGlzLmZvcm0ucHJldigpXG5cbiAgICBAbGFuZyA9ICQgJ25hdi5sYW5ndWFnZSdcbiAgICBAbGFuZy5vbiB0aGlzLml0eXBlLCBAc2VsZWN0TGFuZ3VhZ2VcbiAgICBAbGFuZy5maW5kKCdhJykub24gdGhpcy5pdHlwZSwgQHNlbGVjdExhbmd1YWdlXG5cbiAgICBAZm9ybS5maW5kKCdidXR0b24nKS5vbiB0aGlzLml0eXBlLCBAdHJ5c3VibWl0XG4gICAgQGZvcm0ub24gJ3N1Ym1pdCcsIEBzdWJtaXRcblxuICBzaG93UnVsZXM6IChldmVudCk9PlxuICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KClcbiAgICBAaHRtbC5hZGRDbGFzcyAncnVsZXMnXG4gICAgJChldmVudC5jdXJyZW50VGFyZ2V0KS5jbG9zZXN0KCcucGFnZScpLmZpbmQoJy5ydWxlcycpLnNob3coKVxuICAgIHdpbmRvdy5zY3JvbGxUbyAwLCAwXG5cbiAgY2xvc2VSdWxlczogKGV2ZW50KT0+XG4gICAgQGh0bWwucmVtb3ZlQ2xhc3MgJ3J1bGVzJ1xuICAgICQoZXZlbnQuY3VycmVudFRhcmdldC5wYXJlbnROb2RlKS5oaWRlKClcbiAgICB3aW5kb3cuc2Nyb2xsVG8gMCwgMFxuICAgIFxuICBjb2RlU2VsZWN0Q2hhbmdlOiAoZXZlbnQpPT5cbiAgICBlbGVtZW50ID0gJCBldmVudC5jdXJyZW50VGFyZ2V0XG4gICAgdmFsdWUgPSBlbGVtZW50LnZhbCgpXG4gICAgd3JhcHBlciA9IGVsZW1lbnQuY2xvc2VzdCgnLmNvZGUtd2lkZ2V0JylcbiAgICBjdXJyZW50ID0gd3JhcHBlci5maW5kKCcuY3VycmVudCAudmFsdWUnKVxuICAgIGN1cnJlbnQudGV4dCB2YWx1ZVxuICAgIHdyYXBwZXIuZmluZCgnaW5wdXRbdHlwZT1cInJhZGlvXCJdW25hbWU9XCJjb2RlXCJdW3ZhbHVlPVwiJyt2YWx1ZSsnXCJdJykudHJpZ2dlciAnY2xpY2snXG4gICAgY29uc29sZS5sb2cod3JhcHBlci5maW5kKCdpbnB1dFt0eXBlPVwicmFkaW9cIl1bbmFtZT1cImNvZGVcIl1bdmFsdWU9XCInK3ZhbHVlKydcIl0nKSlcblxuICBjb2RlQ2hhbmdlOiAoZXZlbnQpPT5cbiAgICBlbGVtZW50ID0gJCBldmVudC5jdXJyZW50VGFyZ2V0XG4gICAgd3JhcHBlciA9IGVsZW1lbnQuY2xvc2VzdCgnLmNvZGUtd2lkZ2V0JylcbiAgICBjdXJyZW50ID0gd3JhcHBlci5maW5kKCcuY3VycmVudCAudmFsdWUnKVxuICAgIGN1cnJlbnQudGV4dChlbGVtZW50LnZhbCgpKVxuICAgIHdyYXBwZXIuYWRkQ2xhc3MgJ2NoYW5nZWQnXG4gICAgd2luZG93LnNldFRpbWVvdXQoKCktPlxuICAgICAgd3JhcHBlci5yZW1vdmVDbGFzcyAnY2hhbmdlZCdcbiAgICAsIDUwMClcblxuXG4gIHRpbWVyVXBkYXRlOiA9PlxuICAgIGlmIChAdGklMik9PTBcbiAgICAgIHNlcGF0b3IgPSBcIjpcIlxuICAgIGVsc2VcbiAgICAgIHNlcGF0b3IgPSBcIsKgXCJcbiAgICBAdGkrK1xuICAgIEB0aW1lci50ZXh0KG1vbWVudCgpLmZvcm1hdChcIkhIXCIrc2VwYXRvcitcIm1tXCIpKVxuXG4gIHNlbGVjdExhbmd1YWdlOiAoZXZlbnQpPT5cbiAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpXG4gICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKClcbiAgICBAbGFuZy5maW5kKCdhJykudG9nZ2xlQ2xhc3MgJ3NlbGVjdGVkJ1xuICAgIEBodG1sLmF0dHIgJ2xhbmcnLCBAbGFuZy5maW5kKCcuc2VsZWN0ZWQnKS5hdHRyKCdkYXRhLWxhbmcnKVxuXG4gIHN1Ym1pdDogKGV2ZW50KT0+XG4gICAgZXZlbnQucHJldmVudERlZmF1bHQoKVxuICAgIGZvcm0gPSAkIGV2ZW50LmN1cnJlbnRUYXJnZXRcbiAgICBjb25zb2xlLmxvZyhmb3JtLnNlcmlhbGl6ZSgpKVxuICAgICQucG9zdChmb3JtLmF0dHIoJ2FjdGlvbicpLCBmb3JtLnNlcmlhbGl6ZSgpKS5jb21wbGV0ZShAZm9ybVNlbmQpXG5cbiAgZm9ybVNlbmQ6IChyZXNwb25jZSk9PlxuICAgIEBmb3JtLmhpZGUoKVxuICAgIEBtZXNzYWdlLnNob3coKVxuXG4gIHRyeXN1Ym1pdDogKGV2ZW50KT0+XG4gICAgYnV0dG9uID0gJCBldmVudC5jdXJyZW50VGFyZ2V0XG4gICAgZm9ybSA9IGJ1dHRvbi5jbG9zZXN0KCdmb3JtLnJlZ2lzdGVyLWZvcm0nKVxuICAgIGZvcm0uYWRkQ2xhc3MoJ3ZhbGlkYXRpb24tc3RhcnQnKVxuXG5cbiQoZG9jdW1lbnQpLnJlYWR5ICgpLT5cbiAgbmV3IExhbmRnaW5nQ29udHJvbGxlcigpIl19