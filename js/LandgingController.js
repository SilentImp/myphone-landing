var LandgingController,
  __bind = function(fn, me) {
    return function() {
      return fn.apply(me, arguments);
    };
  };

LandgingController = (function() {
  function LandgingController() {
    this.trysubmit = __bind(this.trysubmit, this);
    this.formSend = __bind(this.formSend, this);
    this.submit = __bind(this.submit, this);
    this.selectLanguage = __bind(this.selectLanguage, this);
    this.timerUpdate = __bind(this.timerUpdate, this);
    this.codeChange = __bind(this.codeChange, this);
    this.codeSelectChange = __bind(this.codeSelectChange, this);
    this.closeRules = __bind(this.closeRules, this);
    this.showRules = __bind(this.showRules, this);
    this.itype = 'click';
    this.html = $('html');
    if (this.html.hasClass('touch')) {
      this.itype = 'touchstart';
    }
    this.form = $('.register-form');
    this.timer = $('.time');
    this.ti = 0;
    window.setInterval(this.timerUpdate, 1000);
    this.timerUpdate();
    this.form.find('.code-widget input').on('change', this.codeChange);
    this.form.find('select').on('change', this.codeSelectChange);
    this.form.find('input.tel').mask("(999) 999-99-99");
    this.form.find('input.code').mask("+9?999");
    $('.rules .close').on(this.itype, this.closeRules);
    $('.show-rules').on(this.itype, this.showRules);
    this.message = this.form.prev();
    this.lang = $('nav.language');
    this.lang.on(this.itype, this.selectLanguage);
    this.lang.find('a').on(this.itype, this.selectLanguage);
    this.form.find('button').on(this.itype, this.trysubmit);
    this.form.on('submit', this.submit);
  }

  LandgingController.prototype.showRules = function(event) {
    event.preventDefault();
    this.html.addClass('rules');
    $(event.currentTarget).closest('.page').find('.rules').show();
    return window.scrollTo(0, 0);
  };

  LandgingController.prototype.closeRules = function(event) {
    this.html.removeClass('rules');
    $(event.currentTarget.parentNode).hide();
    return window.scrollTo(0, 0);
  };

  LandgingController.prototype.codeSelectChange = function(event) {
    var current, element, value, wrapper;
    element = $(event.currentTarget);
    value = element.val();
    wrapper = element.closest('.code-widget');
    current = wrapper.find('.current');
    current.text(value);
    wrapper.find('input[type="radio"][name="code"][value="' + value + '"]').trigger('click');
    return console.log(wrapper.find('input[type="radio"][name="code"][value="' + value + '"]'));
  };

  LandgingController.prototype.codeChange = function(event) {
    var current, element, wrapper;
    element = $(event.currentTarget);
    wrapper = element.closest('.code-widget');
    current = wrapper.find('.current');
    current.text(element.val());
    wrapper.addClass('changed');
    return window.setTimeout(function() {
      return wrapper.removeClass('changed');
    }, 500);
  };

  LandgingController.prototype.timerUpdate = function() {
    var sepator;
    if ((this.ti % 2) === 0) {
      sepator = ":";
    } else {
      sepator = "Â ";
    }
    this.ti++;
    return this.timer.text(moment().format("HH" + sepator + "mm"));
  };

  LandgingController.prototype.selectLanguage = function(event) {
    event.preventDefault();
    event.stopPropagation();
    this.lang.find('a').toggleClass('selected');
    return this.html.attr('lang', this.lang.find('.selected').attr('data-lang'));
  };

  LandgingController.prototype.submit = function(event) {
    var form;
    event.preventDefault();
    form = $(event.currentTarget);
    console.log(form.serialize());
    return $.post(form.attr('action'), form.serialize()).complete(this.formSend);
  };

  LandgingController.prototype.formSend = function(responce) {
    this.form.hide();
    return this.message.show();
  };

  LandgingController.prototype.trysubmit = function(event) {
    var button, form;
    button = $(event.currentTarget);
    form = button.closest('form.register-form');
    return form.addClass('validation-start');
  };

  return LandgingController;

})();

$(document).ready(function() {
  return new LandgingController();
});

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkxhbmRnaW5nQ29udHJvbGxlci5jb2ZmZWUiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsSUFBQSxrQkFBQTtFQUFBLGtGQUFBOztBQUFBO0FBQ2UsRUFBQSw0QkFBQSxHQUFBO0FBRVgsaURBQUEsQ0FBQTtBQUFBLCtDQUFBLENBQUE7QUFBQSwyQ0FBQSxDQUFBO0FBQUEsMkRBQUEsQ0FBQTtBQUFBLHFEQUFBLENBQUE7QUFBQSxtREFBQSxDQUFBO0FBQUEsK0RBQUEsQ0FBQTtBQUFBLG1EQUFBLENBQUE7QUFBQSxpREFBQSxDQUFBO0FBQUEsSUFBQSxJQUFDLENBQUEsS0FBRCxHQUFTLE9BQVQsQ0FBQTtBQUFBLElBQ0EsSUFBQyxDQUFBLElBQUQsR0FBUSxDQUFBLENBQUUsTUFBRixDQURSLENBQUE7QUFFQSxJQUFBLElBQUcsSUFBQyxDQUFBLElBQUksQ0FBQyxRQUFOLENBQWUsT0FBZixDQUFIO0FBQ0UsTUFBQSxJQUFDLENBQUEsS0FBRCxHQUFTLFlBQVQsQ0FERjtLQUZBO0FBQUEsSUFLQSxJQUFDLENBQUEsSUFBRCxHQUFRLENBQUEsQ0FBRSxnQkFBRixDQUxSLENBQUE7QUFBQSxJQU9BLElBQUMsQ0FBQSxLQUFELEdBQVMsQ0FBQSxDQUFFLE9BQUYsQ0FQVCxDQUFBO0FBQUEsSUFRQSxJQUFDLENBQUEsRUFBRCxHQUFNLENBUk4sQ0FBQTtBQUFBLElBU0EsTUFBTSxDQUFDLFdBQVAsQ0FBbUIsSUFBQyxDQUFBLFdBQXBCLEVBQWlDLElBQWpDLENBVEEsQ0FBQTtBQUFBLElBVUEsSUFBQyxDQUFBLFdBQUQsQ0FBQSxDQVZBLENBQUE7QUFBQSxJQVlBLElBQUMsQ0FBQSxJQUFJLENBQUMsSUFBTixDQUFXLG9CQUFYLENBQWdDLENBQUMsRUFBakMsQ0FBb0MsUUFBcEMsRUFBOEMsSUFBQyxDQUFBLFVBQS9DLENBWkEsQ0FBQTtBQUFBLElBYUEsSUFBQyxDQUFBLElBQUksQ0FBQyxJQUFOLENBQVcsUUFBWCxDQUFvQixDQUFDLEVBQXJCLENB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Q0FBQSxDQUFBO1dBQ0EsSUFBQyxDQUFBLE9BQU8sQ0FBQyxJQUFULENBQUEsRUFGUTtFQUFBLENBeEZWLENBQUE7O0FBQUEsK0JBNEZBLFNBQUEsR0FBVyxTQUFDLEtBQUQsR0FBQTtBQUNULFFBQUEsWUFBQTtBQUFBLElBQUEsTUFBQSxHQUFTLENBQUEsQ0FBRSxLQUFLLENBQUMsYUFBUixDQUFULENBQUE7QUFBQSxJQUNBLElBQUEsR0FBTyxNQUFNLENBQUMsT0FBUCxDQUFlLG9CQUFmLENBRFAsQ0FBQTtXQUVBLElBQUksQ0FBQyxRQUFMLENBQWMsa0JBQWQsRUFIUztFQUFBLENBNUZYLENBQUE7OzRCQUFBOztJQURGLENBQUE7O0FBQUEsQ0FtR0EsQ0FBRSxRQUFGLENBQVcsQ0FBQyxLQUFaLENBQWtCLFNBQUEsR0FBQTtTQUNaLElBQUEsa0JBQUEsQ0FBQSxFQURZO0FBQUEsQ0FBbEIsQ0FuR0EsQ0FBQSIsImZpbGUiOiJMYW5kZ2luZ0NvbnRyb2xsZXIuanMiLCJzb3VyY2VSb290IjoiL3NvdXJjZS8iLCJzb3VyY2VzQ29udGVudCI6WyJjbGFzcyBMYW5kZ2luZ0NvbnRyb2xsZXJcbiAgY29uc3RydWN0b3I6IC0+XG5cbiAgICBAaXR5cGUgPSAnY2xpY2snO1xuICAgIEBodG1sID0gJCAnaHRtbCdcbiAgICBpZiBAaHRtbC5oYXNDbGFzcygndG91Y2gnKVxuICAgICAgQGl0eXBlID0gJ3RvdWNoc3RhcnQnXG5cbiAgICBAZm9ybSA9ICQoJy5yZWdpc3Rlci1mb3JtJylcbiAgICBcbiAgICBAdGltZXIgPSAkKCcudGltZScpXG4gICAgQHRpID0gMFxuICAgIHdpbmRvdy5zZXRJbnRlcnZhbCBAdGltZXJVcGRhdGUsIDEwMDBcbiAgICBAdGltZXJVcGRhdGUoKVxuXG4gICAgQGZvcm0uZmluZCgnLmNvZGUtd2lkZ2V0IGlucHV0Jykub24gJ2NoYW5nZScsIEBjb2RlQ2hhbmdlXG4gICAgQGZvcm0uZmluZCgnc2VsZWN0Jykub24gJ2NoYW5nZScsIEBjb2RlU2VsZWN0Q2hhbmdlXG5cblxuICAgICMgJC5tYXNrLmRlZmluaXRpb25zWydjJ10gPSBcIlteXFxkXFxzLiw6IUBeJSYqXys9wrHCpyMkXigpXFxcIlxcJ11cIlxuICAgICMgQGZvcm0uZmluZCgnaW5wdXQud29yZCcpLm1hc2sgXCJjYz9jY2NjY2NjY2NjY2NjY2NjY2NjY1wiXG5cbiAgICBAZm9ybS5maW5kKCdpbnB1dC50ZWwnKS5tYXNrIFwiKDk5OSkgOTk5LTk5LTk5XCJcbiAgICBAZm9ybS5maW5kKCdpbnB1dC5jb2RlJykubWFzayBcIis5Pzk5OVwiXG5cbiAgICAkKCcucnVsZXMgLmNsb3NlJykub24gQGl0eXBlLCBAY2xvc2VSdWxlc1xuICAgICQoJy5zaG93LXJ1bGVzJykub24gQGl0eXBlLCBAc2hvd1J1bGVzXG4gICAgXG4gICAgXG4gICAgQG1lc3NhZ2UgPSB0aGlzLmZvcm0ucHJldigpXG5cbiAgICBAbGFuZyA9ICQgJ25hdi5sYW5ndWFnZSdcbiAgICBAbGFuZy5vbiB0aGlzLml0eXBlLCBAc2VsZWN0TGFuZ3VhZ2VcbiAgICBAbGFuZy5maW5kKCdhJykub24gdGhpcy5pdHlwZSwgQHNlbGVjdExhbmd1YWdlXG5cbiAgICBAZm9ybS5maW5kKCdidXR0b24nKS5vbiB0aGlzLml0eXBlLCBAdHJ5c3VibWl0XG4gICAgQGZvcm0ub24gJ3N1Ym1pdCcsIEBzdWJtaXRcblxuICBzaG93UnVsZXM6IChldmVudCk9PlxuICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KClcbiAgICBAaHRtbC5hZGRDbGFzcyAncnVsZXMnXG4gICAgJChldmVudC5jdXJyZW50VGFyZ2V0KS5jbG9zZXN0KCcucGFnZScpLmZpbmQoJy5ydWxlcycpLnNob3coKVxuICAgIHdpbmRvdy5zY3JvbGxUbyAwLCAwXG5cbiAgY2xvc2VSdWxlczogKGV2ZW50KT0+XG4gICAgQGh0bWwucmVtb3ZlQ2xhc3MgJ3J1bGVzJ1xuICAgICQoZXZlbnQuY3VycmVudFRhcmdldC5wYXJlbnROb2RlKS5oaWRlKClcbiAgICB3aW5kb3cuc2Nyb2xsVG8gMCwgMFxuICAgIFxuICBjb2RlU2VsZWN0Q2hhbmdlOiAoZXZlbnQpPT5cbiAgICBlbGVtZW50ID0gJCBldmVudC5jdXJyZW50VGFyZ2V0XG4gICAgdmFsdWUgPSBlbGVtZW50LnZhbCgpXG4gICAgd3JhcHBlciA9IGVsZW1lbnQuY2xvc2VzdCgnLmNvZGUtd2lkZ2V0JylcbiAgICBjdXJyZW50ID0gd3JhcHBlci5maW5kKCcuY3VycmVudCcpXG4gICAgY3VycmVudC50ZXh0IHZhbHVlXG4gICAgd3JhcHBlci5maW5kKCdpbnB1dFt0eXBlPVwicmFkaW9cIl1bbmFtZT1cImNvZGVcIl1bdmFsdWU9XCInK3ZhbHVlKydcIl0nKS50cmlnZ2VyICdjbGljaydcbiAgICBjb25zb2xlLmxvZyh3cmFwcGVyLmZpbmQoJ2lucHV0W3R5cGU9XCJyYWRpb1wiXVtuYW1lPVwiY29kZVwiXVt2YWx1ZT1cIicrdmFsdWUrJ1wiXScpKVxuXG4gIGNvZGVDaGFuZ2U6IChldmVudCk9PlxuICAgIGVsZW1lbnQgPSAkIGV2ZW50LmN1cnJlbnRUYXJnZXRcbiAgICB3cmFwcGVyID0gZWxlbWVudC5jbG9zZXN0KCcuY29kZS13aWRnZXQnKVxuICAgIGN1cnJlbnQgPSB3cmFwcGVyLmZpbmQoJy5jdXJyZW50JylcbiAgICBjdXJyZW50LnRleHQoZWxlbWVudC52YWwoKSlcbiAgICB3cmFwcGVyLmFkZENsYXNzICdjaGFuZ2VkJ1xuICAgIHdpbmRvdy5zZXRUaW1lb3V0KCgpLT5cbiAgICAgIHdyYXBwZXIucmVtb3ZlQ2xhc3MgJ2NoYW5nZWQnXG4gICAgLCA1MDApXG5cblxuICB0aW1lclVwZGF0ZTogPT5cbiAgICBpZiAoQHRpJTIpPT0wXG4gICAgICBzZXBhdG9yID0gXCI6XCJcbiAgICBlbHNlXG4gICAgICBzZXBhdG9yID0gXCLCoFwiXG4gICAgQHRpKytcbiAgICBAdGltZXIudGV4dChtb21lbnQoKS5mb3JtYXQoXCJISFwiK3NlcGF0b3IrXCJtbVwiKSlcblxuICBzZWxlY3RMYW5ndWFnZTogKGV2ZW50KT0+XG4gICAgZXZlbnQucHJldmVudERlZmF1bHQoKVxuICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpXG4gICAgQGxhbmcuZmluZCgnYScpLnRvZ2dsZUNsYXNzICdzZWxlY3RlZCdcbiAgICBAaHRtbC5hdHRyICdsYW5nJywgQGxhbmcuZmluZCgnLnNlbGVjdGVkJykuYXR0cignZGF0YS1sYW5nJylcblxuICBzdWJtaXQ6IChldmVudCk9PlxuICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KClcbiAgICBmb3JtID0gJCBldmVudC5jdXJyZW50VGFyZ2V0XG4gICAgY29uc29sZS5sb2coZm9ybS5zZXJpYWxpemUoKSlcbiAgICAkLnBvc3QoZm9ybS5hdHRyKCdhY3Rpb24nKSwgZm9ybS5zZXJpYWxpemUoKSkuY29tcGxldGUoQGZvcm1TZW5kKVxuXG4gIGZvcm1TZW5kOiAocmVzcG9uY2UpPT5cbiAgICBAZm9ybS5oaWRlKClcbiAgICBAbWVzc2FnZS5zaG93KClcblxuICB0cnlzdWJtaXQ6IChldmVudCk9PlxuICAgIGJ1dHRvbiA9ICQgZXZlbnQuY3VycmVudFRhcmdldFxuICAgIGZvcm0gPSBidXR0b24uY2xvc2VzdCgnZm9ybS5yZWdpc3Rlci1mb3JtJylcbiAgICBmb3JtLmFkZENsYXNzKCd2YWxpZGF0aW9uLXN0YXJ0JylcblxuXG4kKGRvY3VtZW50KS5yZWFkeSAoKS0+XG4gIG5ldyBMYW5kZ2luZ0NvbnRyb2xsZXIoKSJdfQ==