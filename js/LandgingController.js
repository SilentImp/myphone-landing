var LandgingController,
  __bind = function(fn, me) {
    return function() {
      return fn.apply(me, arguments);
    };
  };

LandgingController = (function() {
  function LandgingController() {
    this.trysubmit = __bind(this.trysubmit, this);
    this.formSend = __bind(this.formSend, this);
    this.submit = __bind(this.submit, this);
    this.selectLanguage = __bind(this.selectLanguage, this);
    this.timerUpdate = __bind(this.timerUpdate, this);
    this.codeChange = __bind(this.codeChange, this);
    this.codeSelectChange = __bind(this.codeSelectChange, this);
    this.closeRules = __bind(this.closeRules, this);
    this.showRules = __bind(this.showRules, this);
    this.ip2Country = __bind(this.ip2Country, this);
    this.itype = 'click';
    this.html = $('html');
    if (this.html.hasClass('touch')) {
      this.itype = 'touchstart';
    }
    this.form = $('.register-form');
    this.timer = $('.time');
    this.ti = 0;
    window.setInterval(this.timerUpdate, 1000);
    this.timerUpdate();
    this.form.find('.code-widget input').on('change', this.codeChange);
    this.form.find('select').on('change', this.codeSelectChange);
    this.form.find('input.tel').mask("(999) 999-99-99");
    this.form.find('input.code').mask("+9?999");
    $('.rules .close').on(this.itype, this.closeRules);
    $('.show-rules').on(this.itype, this.showRules);
    this.message = this.form.prev();
    this.lang = $('nav.language');
    this.lang.on(this.itype, this.selectLanguage);
    this.lang.find('a').on(this.itype, this.selectLanguage);
    this.form.find('button').on(this.itype, this.trysubmit);
    this.form.on('submit', this.submit);
    $.jsonp('http://www.telize.com/geoip?callback=document.landing.ip2Country');
  }

  LandgingController.prototype.ip2Country = function(obj) {
    console.log(obj);
    switch (obj.country_code) {
      case 'AZ':
        return console.log('AZ');
      default:
        return console.log('RU');
    }
  };

  LandgingController.prototype.showRules = function(event) {
    event.preventDefault();
    this.html.addClass('rules');
    $(event.currentTarget).closest('.page').find('.rules').show();
    return window.scrollTo(0, 0);
  };

  LandgingController.prototype.closeRules = function(event) {
    this.html.removeClass('rules');
    $(event.currentTarget.parentNode).hide();
    return window.scrollTo(0, 0);
  };

  LandgingController.prototype.codeSelectChange = function(event) {
    var current, element, value, wrapper;
    element = $(event.currentTarget);
    value = element.val();
    wrapper = element.closest('.code-widget');
    current = wrapper.find('.current .value');
    current.text(value);
    return wrapper.find('input[type="radio"][name="code"][value="' + value + '"]').trigger('click');
  };

  LandgingController.prototype.codeChange = function(event) {
    var current, element, wrapper;
    element = $(event.currentTarget);
    wrapper = element.closest('.code-widget');
    current = wrapper.find('.current .value');
    current.text(element.val());
    wrapper.addClass('changed');
    return window.setTimeout(function() {
      return wrapper.removeClass('changed');
    }, 500);
  };

  LandgingController.prototype.timerUpdate = function() {
    var sepator;
    if ((this.ti % 2) === 0) {
      sepator = ":";
    } else {
      sepator = "Â ";
    }
    this.ti++;
    return this.timer.text(moment().format("HH" + sepator + "mm"));
  };

  LandgingController.prototype.selectLanguage = function(event) {
    event.preventDefault();
    event.stopPropagation();
    this.lang.find('a').toggleClass('selected');
    return this.html.attr('lang', this.lang.find('.selected').attr('data-lang'));
  };

  LandgingController.prototype.submit = function(event) {
    var form;
    event.preventDefault();
    form = $(event.currentTarget);
    console.log(form.serialize());
    return $.post(form.attr('action'), form.serialize()).complete(this.formSend);
  };

  LandgingController.prototype.formSend = function(responce) {
    this.form.hide();
    return this.message.show();
  };

  LandgingController.prototype.trysubmit = function(event) {
    var button, form;
    button = $(event.currentTarget);
    form = button.closest('form.register-form');
    return form.addClass('validation-start');
  };

  return LandgingController;

})();

$(document).ready(function() {
  return new LandgingController();
});

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkxhbmRnaW5nQ29udHJvbGxlci5jb2ZmZWUiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsSUFBQSxrQkFBQTtFQUFBLGtGQUFBOztBQUFBO0FBQ2UsRUFBQSw0QkFBQSxHQUFBO0FBRVgsaURBQUEsQ0FBQTtBQUFBLCtDQUFBLENBQUE7QUFBQSwyQ0FBQSxDQUFBO0FBQUEsMkRBQUEsQ0FBQTtBQUFBLHFEQUFBLENBQUE7QUFBQSxtREFBQSxDQUFBO0FBQUEsK0RBQUEsQ0FBQTtBQUFBLG1EQUFBLENBQUE7QUFBQSxpREFBQSxDQUFBO0FBQUEsbURBQUEsQ0FBQTtBQUFBLElBQUEsSUFBQyxDQUFBLEtBQUQsR0FBUyxPQUFULENBQUE7QUFBQSxJQUNBLElBQUMsQ0FBQSxJQUFELEdBQVEsQ0FBQSxDQUFFLE1BQUYsQ0FEUixDQUFBO0FBRUEsSUFBQSxJQUFHLElBQUMsQ0FBQSxJQUFJLENBQUMsUUFBTixDQUFlLE9BQWYsQ0FBSDtBQUNFLE1BQUEsSUFBQyxDQUFBLEtBQUQsR0FBUyxZQUFULENBREY7S0FGQTtBQUFBLElBS0EsSUFBQyxDQUFBLElBQUQsR0FBUSxDQUFBLENBQUUsZ0JBQUYsQ0FMUixDQUFBO0FBQUEsSUFPQSxJQUFDLENBQUEsS0FBRCxHQUFTLENBQUEsQ0FBRSxPQUFGLENBUFQsQ0FBQTtBQUFBLElBUUEsSUFBQyxDQUFBLEVBQUQsR0FBTSxDQVJOLENBQUE7QUFBQSxJQVNBLE1BQU0sQ0FBQyxXQUFQLENBQW1CLElBQUMsQ0FBQSxXQUFwQixFQUFpQyxJQUFqQyxDQVRBLENBQUE7QUFBQSxJQVVBLElBQUMsQ0FBQSxXQUFELENBQUEsQ0FWQSxDQUFBO0FBQUEsSUFZQSxJQUFDLENBQUEsSUFBSSxDQUFDLElBQU4sQ0FBVyxvQkFBWCxDQUFnQyxDQUFDLEVBQWpDLENBQW9DLFFBQXBDLEVBQThDLElBQUMsQ0FBQSxVQUEvQyxDQVpBLENBQUE7QUFBQSxJQWFBLElBQUMsQ0FBQSxJQUFJLENBQUMsSUFBTixDQUFXLFFBQVgsQ0FB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Q0FBQyxJQUFMLENBQVUsUUFBVixDQUFQLEVBQTRCLElBQUksQ0FBQyxTQUFMLENBQUEsQ0FBNUIsQ0FBNkMsQ0FBQyxRQUE5QyxDQUF1RCxJQUFDLENBQUEsUUFBeEQsRUFKTTtFQUFBLENBM0ZSLENBQUE7O0FBQUEsK0JBaUdBLFFBQUEsR0FBVSxTQUFDLFFBQUQsR0FBQTtBQUNSLElBQUEsSUFBQyxDQUFBLElBQUksQ0FBQyxJQUFOLENBQUEsQ0FBQSxDQUFBO1dBQ0EsSUFBQyxDQUFBLE9BQU8sQ0FBQyxJQUFULENBQUEsRUFGUTtFQUFBLENBakdWLENBQUE7O0FBQUEsK0JBcUdBLFNBQUEsR0FBVyxTQUFDLEtBQUQsR0FBQTtBQUNULFFBQUEsWUFBQTtBQUFBLElBQUEsTUFBQSxHQUFTLENBQUEsQ0FBRSxLQUFLLENBQUMsYUFBUixDQUFULENBQUE7QUFBQSxJQUNBLElBQUEsR0FBTyxNQUFNLENBQUMsT0FBUCxDQUFlLG9CQUFmLENBRFAsQ0FBQTtXQUVBLElBQUksQ0FBQyxRQUFMLENBQWMsa0JBQWQsRUFIUztFQUFBLENBckdYLENBQUE7OzRCQUFBOztJQURGLENBQUE7O0FBQUEsQ0E0R0EsQ0FBRSxRQUFGLENBQVcsQ0FBQyxLQUFaLENBQWtCLFNBQUEsR0FBQTtTQUNaLElBQUEsa0JBQUEsQ0FBQSxFQURZO0FBQUEsQ0FBbEIsQ0E1R0EsQ0FBQSIsImZpbGUiOiJMYW5kZ2luZ0NvbnRyb2xsZXIuanMiLCJzb3VyY2VSb290IjoiL3NvdXJjZS8iLCJzb3VyY2VzQ29udGVudCI6WyJjbGFzcyBMYW5kZ2luZ0NvbnRyb2xsZXJcbiAgY29uc3RydWN0b3I6IC0+XG5cbiAgICBAaXR5cGUgPSAnY2xpY2snO1xuICAgIEBodG1sID0gJCAnaHRtbCdcbiAgICBpZiBAaHRtbC5oYXNDbGFzcygndG91Y2gnKVxuICAgICAgQGl0eXBlID0gJ3RvdWNoc3RhcnQnXG5cbiAgICBAZm9ybSA9ICQoJy5yZWdpc3Rlci1mb3JtJylcbiAgICBcbiAgICBAdGltZXIgPSAkKCcudGltZScpXG4gICAgQHRpID0gMFxuICAgIHdpbmRvdy5zZXRJbnRlcnZhbCBAdGltZXJVcGRhdGUsIDEwMDBcbiAgICBAdGltZXJVcGRhdGUoKVxuXG4gICAgQGZvcm0uZmluZCgnLmNvZGUtd2lkZ2V0IGlucHV0Jykub24gJ2NoYW5nZScsIEBjb2RlQ2hhbmdlXG4gICAgQGZvcm0uZmluZCgnc2VsZWN0Jykub24gJ2NoYW5nZScsIEBjb2RlU2VsZWN0Q2hhbmdlXG5cbiAgICAjICQubWFzay5kZWZpbml0aW9uc1snYyddID0gXCJbXlxcZFxccy4sOiFAXiUmKl8rPcKxwqcjJF4oKVxcXCJcXCddXCJcbiAgICAjIEBmb3JtLmZpbmQoJ2lucHV0LndvcmQnKS5tYXNrIFwiY2M/Y2NjY2NjY2NjY2NjY2NjY2NjY2NcIlxuXG4gICAgQGZvcm0uZmluZCgnaW5wdXQudGVsJykubWFzayBcIig5OTkpIDk5OS05OS05OVwiXG4gICAgQGZvcm0uZmluZCgnaW5wdXQuY29kZScpLm1hc2sgXCIrOT85OTlcIlxuXG4gICAgJCgnLnJ1bGVzIC5jbG9zZScpLm9uIEBpdHlwZSwgQGNsb3NlUnVsZXNcbiAgICAkKCcuc2hvdy1ydWxlcycpLm9uIEBpdHlwZSwgQHNob3dSdWxlc1xuICAgIFxuICAgIFxuICAgIEBtZXNzYWdlID0gdGhpcy5mb3JtLnByZXYoKVxuXG4gICAgQGxhbmcgPSAkICduYXYubGFuZ3VhZ2UnXG4gICAgQGxhbmcub24gdGhpcy5pdHlwZSwgQHNlbGVjdExhbmd1YWdlXG4gICAgQGxhbmcuZmluZCgnYScpLm9uIHRoaXMuaXR5cGUsIEBzZWxlY3RMYW5ndWFnZVxuXG4gICAgQGZvcm0uZmluZCgnYnV0dG9uJykub24gdGhpcy5pdHlwZSwgQHRyeXN1Ym1pdFxuICAgIEBmb3JtLm9uICdzdWJtaXQnLCBAc3VibWl0XG5cbiAgICAkLmpzb25wKCdodHRwOi8vd3d3LnRlbGl6ZS5jb20vZ2VvaXA/Y2FsbGJhY2s9ZG9jdW1lbnQubGFuZGluZy5pcDJDb3VudHJ5JylcblxuICBpcDJDb3VudHJ5OiAob2JqKT0+XG4gICAgY29uc29sZS5sb2cgb2JqXG4gICAgc3dpdGNoIG9iai5jb3VudHJ5X2NvZGVcbiAgICAgIHdoZW4gJ0FaJyBcbiAgICAgICAgY29uc29sZS5sb2cgJ0FaJ1xuICAgICAgZWxzZVxuICAgICAgICBjb25zb2xlLmxvZyAnUlUnXG5cblxuICBzaG93UnVsZXM6IChldmVudCk9PlxuICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KClcbiAgICBAaHRtbC5hZGRDbGFzcyAncnVsZXMnXG4gICAgJChldmVudC5jdXJyZW50VGFyZ2V0KS5jbG9zZXN0KCcucGFnZScpLmZpbmQoJy5ydWxlcycpLnNob3coKVxuICAgIHdpbmRvdy5zY3JvbGxUbyAwLCAwXG5cbiAgY2xvc2VSdWxlczogKGV2ZW50KT0+XG4gICAgQGh0bWwucmVtb3ZlQ2xhc3MgJ3J1bGVzJ1xuICAgICQoZXZlbnQuY3VycmVudFRhcmdldC5wYXJlbnROb2RlKS5oaWRlKClcbiAgICB3aW5kb3cuc2Nyb2xsVG8gMCwgMFxuICAgIFxuICBjb2RlU2VsZWN0Q2hhbmdlOiAoZXZlbnQpPT5cbiAgICBlbGVtZW50ID0gJCBldmVudC5jdXJyZW50VGFyZ2V0XG4gICAgdmFsdWUgPSBlbGVtZW50LnZhbCgpXG4gICAgd3JhcHBlciA9IGVsZW1lbnQuY2xvc2VzdCgnLmNvZGUtd2lkZ2V0JylcbiAgICBjdXJyZW50ID0gd3JhcHBlci5maW5kKCcuY3VycmVudCAudmFsdWUnKVxuICAgIGN1cnJlbnQudGV4dCB2YWx1ZVxuICAgIHdyYXBwZXIuZmluZCgnaW5wdXRbdHlwZT1cInJhZGlvXCJdW25hbWU9XCJjb2RlXCJdW3ZhbHVlPVwiJyt2YWx1ZSsnXCJdJykudHJpZ2dlciAnY2xpY2snXG5cbiAgY29kZUNoYW5nZTogKGV2ZW50KT0+XG4gICAgZWxlbWVudCA9ICQgZXZlbnQuY3VycmVudFRhcmdldFxuICAgIHdyYXBwZXIgPSBlbGVtZW50LmNsb3Nlc3QoJy5jb2RlLXdpZGdldCcpXG4gICAgY3VycmVudCA9IHdyYXBwZXIuZmluZCgnLmN1cnJlbnQgLnZhbHVlJylcbiAgICBjdXJyZW50LnRleHQoZWxlbWVudC52YWwoKSlcbiAgICB3cmFwcGVyLmFkZENsYXNzICdjaGFuZ2VkJ1xuICAgIHdpbmRvdy5zZXRUaW1lb3V0KCgpLT5cbiAgICAgIHdyYXBwZXIucmVtb3ZlQ2xhc3MgJ2NoYW5nZWQnXG4gICAgLCA1MDApXG5cblxuICB0aW1lclVwZGF0ZTogPT5cbiAgICBpZiAoQHRpJTIpPT0wXG4gICAgICBzZXBhdG9yID0gXCI6XCJcbiAgICBlbHNlXG4gICAgICBzZXBhdG9yID0gXCLCoFwiXG4gICAgQHRpKytcbiAgICBAdGltZXIudGV4dChtb21lbnQoKS5mb3JtYXQoXCJISFwiK3NlcGF0b3IrXCJtbVwiKSlcblxuICBzZWxlY3RMYW5ndWFnZTogKGV2ZW50KT0+XG4gICAgZXZlbnQucHJldmVudERlZmF1bHQoKVxuICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpXG4gICAgQGxhbmcuZmluZCgnYScpLnRvZ2dsZUNsYXNzICdzZWxlY3RlZCdcbiAgICBAaHRtbC5hdHRyICdsYW5nJywgQGxhbmcuZmluZCgnLnNlbGVjdGVkJykuYXR0cignZGF0YS1sYW5nJylcblxuICBzdWJtaXQ6IChldmVudCk9PlxuICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KClcbiAgICBmb3JtID0gJCBldmVudC5jdXJyZW50VGFyZ2V0XG4gICAgY29uc29sZS5sb2coZm9ybS5zZXJpYWxpemUoKSlcbiAgICAkLnBvc3QoZm9ybS5hdHRyKCdhY3Rpb24nKSwgZm9ybS5zZXJpYWxpemUoKSkuY29tcGxldGUoQGZvcm1TZW5kKVxuXG4gIGZvcm1TZW5kOiAocmVzcG9uY2UpPT5cbiAgICBAZm9ybS5oaWRlKClcbiAgICBAbWVzc2FnZS5zaG93KClcblxuICB0cnlzdWJtaXQ6IChldmVudCk9PlxuICAgIGJ1dHRvbiA9ICQgZXZlbnQuY3VycmVudFRhcmdldFxuICAgIGZvcm0gPSBidXR0b24uY2xvc2VzdCgnZm9ybS5yZWdpc3Rlci1mb3JtJylcbiAgICBmb3JtLmFkZENsYXNzKCd2YWxpZGF0aW9uLXN0YXJ0JylcblxuXG4kKGRvY3VtZW50KS5yZWFkeSAoKS0+XG4gIG5ldyBMYW5kZ2luZ0NvbnRyb2xsZXIoKSJdfQ==